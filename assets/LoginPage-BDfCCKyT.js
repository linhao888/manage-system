import{r as m,w as B,c as g,o as _,a as o,b as l,d as v,u as d,e as t,f as L,E as y,g as R,h as q,i as z,j as E,l as w}from"./index-C1KGFTnc.js";import{E as I,a as N}from"./el-col-Bpf8MtiG.js";import{E as T}from"./el-checkbox-CY8GpAVJ.js";import{E as F,a as P}from"./el-form-item-BKR4LyqZ.js";import{E as j}from"./el-link-wGGK4GKz.js";import{_ as A,E as D}from"./_plugin-vue_export-helper-C6DKQ3mR.js";import{E as M}from"./el-input-DNBJsBg7.js";import"./el-message-DOMQukYG.js";import"./isEqual-i4XNW-w6.js";const Z={class:"flex"},G={__name:"LoginPage",setup(H){const u=m(!1),i=m(),s=m({username:"",password:"",repassword:""}),c={username:[{required:!0,message:"输入不能为空",trigger:"blur"},{pattern:/^[A-Za-z0-9]{1,10}$/,message:"请输入1-10位字母或数字",trigger:"blur"}],password:[{required:!0,message:"输入不能为空",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"请输入 6-15位非空字符",trigger:"blur"}],repassword:[{required:!0,message:"输入不能为空",trigger:"blur"},{pattern:/^\S{8,16}$/,message:"请输入 8-16位非空字符",trigger:"blur"},{validator:(n,e,a)=>{e!==s.value.password?a(new Error("再次密码不一致")):a()},trigger:"blur"}]},b=async()=>{await i.value.validate();const n=await L(s.value);y.success("注册成功"),u.value=!1,console.log(n)},C=R(),U=async()=>{await i.value.validate();const n=await q(s.value),e=z().setToken;e(n.token),y.success("登陆成功"),C.push("/")};return B(u,()=>{s.value={username:"",password:"",repassword:""}}),(n,e)=>{const a=F,p=M,x=D,f=j,V=P,S=T,k=I,$=N;return _(),g($,{class:"login-page"},{default:o(()=>[l(k,{span:6,offset:3,class:"form"},{default:o(()=>[u.value?(_(),g(V,{key:0,model:s.value,rules:c,ref_key:"form",ref:i,size:"large",autocomplete:"off"},{default:o(()=>[l(a,null,{default:o(()=>e[7]||(e[7]=[v("h1",null,"注册",-1)])),_:1}),l(a,{prop:"username"},{default:o(()=>[l(p,{modelValue:s.value.username,"onUpdate:modelValue":e[0]||(e[0]=r=>s.value.username=r),"prefix-icon":d(E),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),l(a,{prop:"password"},{default:o(()=>[l(p,{modelValue:s.value.password,"onUpdate:modelValue":e[1]||(e[1]=r=>s.value.password=r),"prefix-icon":d(w),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),l(a,{prop:"repassword"},{default:o(()=>[l(p,{modelValue:s.value.repassword,"onUpdate:modelValue":e[2]||(e[2]=r=>s.value.repassword=r),"prefix-icon":d(w),type:"password",placeholder:"请输入再次密码"},null,8,["modelValue","prefix-icon"])]),_:1}),l(a,null,{default:o(()=>[l(x,{onClick:b,class:"button",type:"primary","auto-insert-space":""},{default:o(()=>e[8]||(e[8]=[t(" 注册 ")])),_:1})]),_:1}),l(a,{class:"flex"},{default:o(()=>[l(f,{type:"info",underline:!1,onClick:e[3]||(e[3]=r=>u.value=!1)},{default:o(()=>e[9]||(e[9]=[t(" ← 已有账号 点击登录 ")])),_:1})]),_:1})]),_:1},8,["model"])):(_(),g(V,{key:1,model:s.value,rules:c,ref_key:"form",ref:i,size:"large",autocomplete:"off"},{default:o(()=>[l(a,null,{default:o(()=>e[10]||(e[10]=[v("h1",null,"登录",-1)])),_:1}),l(a,{prop:"username"},{default:o(()=>[l(p,{modelValue:s.value.username,"onUpdate:modelValue":e[4]||(e[4]=r=>s.value.username=r),"prefix-icon":d(E),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),l(a,{prop:"password"},{default:o(()=>[l(p,{modelValue:s.value.password,"onUpdate:modelValue":e[5]||(e[5]=r=>s.value.password=r),name:"password","prefix-icon":d(w),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),l(a,{class:"flex"},{default:o(()=>[v("div",Z,[l(S,null,{default:o(()=>e[11]||(e[11]=[t("记住我")])),_:1}),l(f,{type:"primary",underline:!1},{default:o(()=>e[12]||(e[12]=[t("忘记密码？")])),_:1})])]),_:1}),l(a,null,{default:o(()=>[l(x,{onClick:U,class:"button",type:"primary","auto-insert-space":""},{default:o(()=>e[13]||(e[13]=[t("登录")])),_:1})]),_:1}),l(a,{class:"flex"},{default:o(()=>[l(f,{type:"info",underline:!1,onClick:e[6]||(e[6]=r=>u.value=!0)},{default:o(()=>e[14]||(e[14]=[t(" 没有账号 点击注册 → ")])),_:1})]),_:1})]),_:1},8,["model"]))]),_:1}),l(k,{span:12,offset:3,class:"bg"})]),_:1})}}},le=A(G,[["__scopeId","data-v-a24e569d"]]);export{le as default};
