import{_ as v}from"./ContentBox-BER6y57q.js";import{r as d,i as V,c as k,a as o,o as E,b as l,y as n,e as x,b$ as U,E as p}from"./index-CpMP9FrR.js";import{E as w,a as I}from"./el-form-item-nNznjw9w.js";import{E as S}from"./_plugin-vue_export-helper-DllhH9y6.js";import{E as B}from"./el-input-CUxfhfWH.js";import"./el-message-BL-vZ9Sx.js";const m="300px",T={__name:"UserProfile",setup(C){const u=d(null),f=V(),e=d({username:"已登录用户",nickname:"",email:""});(()=>{e.value=f.userInfo})();const _={nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{min:2,max:10,message:"昵称长度在 2 到 10 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},c=()=>{u.value.validate(async i=>{if(i)await U(e.value),p.success("修改成功");else return p.error("表单校验失败，请检查输入"),!1})};return(i,t)=>{const s=B,r=w,g=S,b=I,y=v;return E(),k(y,{title:"基本资料"},{default:o(()=>[l(b,{model:e.value,rules:_,ref_key:"formRef",ref:u,"label-width":"100px"},{default:o(()=>[l(r,{label:"登录账号"},{default:o(()=>[l(s,{modelValue:e.value.username,"onUpdate:modelValue":t[0]||(t[0]=a=>e.value.username=a),disabled:"",style:n({width:m})},null,8,["modelValue","style"])]),_:1}),l(r,{label:"用户昵称",prop:"nickname"},{default:o(()=>[l(s,{modelValue:e.value.nickname,"onUpdate:modelValue":t[1]||(t[1]=a=>e.value.nickname=a),style:n({width:m})},null,8,["modelValue","style"])]),_:1}),l(r,{label:"用户邮箱",prop:"email"},{default:o(()=>[l(s,{modelValue:e.value.email,"onUpdate:modelValue":t[2]||(t[2]=a=>e.value.email=a),style:n({width:m})},null,8,["modelValue","style"])]),_:1}),l(r,null,{default:o(()=>[l(g,{type:"primary",onClick:c},{default:o(()=>t[3]||(t[3]=[x("提交修改")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{T as default};
